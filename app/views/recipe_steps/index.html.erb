<div class="container p-2">
  <div class="mb-4">
    <%= link_to(recipe_path(@recipe), class: "button") do %>
      <span class="icon">
        <i class="fas fa-arrow-left"></i>
      </span>
      <span>Back to recipe</span>
    <% end %>
  </div>

  <p class="title">
    <%= @recipe.name %> Recipe Steps
  </p>

  <ul class="mb-6 ml-6 mr-6" data-controller="sortable" data-sortable-animation-value="150"
      data-sortable-resource-name-value="recipe_step"
      data-sortable-handle-value=".handle">
    <% @recipe.recipe_steps.each do |recipe_step| %>
      <li class="card mb-2" data-id="<%= recipe_step.id %>" data-sortable-update-url="<%= recipe_step_path(@recipe.id, recipe_step.id) %>">
        <div class="card-content">
          <div class="columns is-mobile">
            <div class="column handle">
                <%= recipe_step.instructions %>
            </div>
            <div class="column is-one-quarter">
              <div class="columns is-mobile">
                <div class="column">
                  <a href="<%= recipe_step_path(@recipe, recipe_step) %>" class="button is-primary is-fullwidth">
                    <span class="icon">
                      <i class="fas fa-pencil"></i>
                    </span>
                  </a>
                </div>
                <div class="column">
                  <%= button_to "Delete", recipe_step_path(@recipe, recipe_step), method: :delete, class: "delete is-large is-pulled-right"%>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    <% end %>
  </ul>

<%= render 'form' %>
</div>